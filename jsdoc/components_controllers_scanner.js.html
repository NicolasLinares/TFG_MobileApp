<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>components/controllers/scanner.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/NicolasLinares/TFG_MobileApp" target="_blank" class="menu-item" id="github_link" >Github</a></h2><h3>Namespaces</h3><ul><li><a href="Alerts.html">Alerts</a></li><li><a href="Animations.html">Animations</a></li></ul><h3>Global</h3><ul><li><a href="global.html#BackButton">BackButton</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">components/controllers/scanner.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
* @fileoverview Escáner de códigos QR y de barras
*
* @version 1
* @author Nicolás Linares La Barba &lt;nlbarba97@gmail.com>
*/


import React, { Component } from 'react';
import {
	Text,
	StyleSheet,
	View
} from 'react-native';

import { CancelButton } from '_buttons';
import { COLORS } from '_styles';
import QRCodeScanner from 'react-native-qrcode-scanner';

import ReactNativeHapticFeedback from "react-native-haptic-feedback";

class Scanner extends Component {

	constructor(props) {
		super(props);
		this.state = {
			flashMode: false,
		};
	}


	onScanSuccess = scan => {
		// Haptic feedback
		const options = { enableVibrateFallback: true, ignoreAndroidSystemSettings: false };
        ReactNativeHapticFeedback.trigger('impactMedium', options);

		// Se muestra el código leido en el input
		this.props.nav.state.params.setTag(scan.data);
		// Se abre de nuevo el Editor con ese valor en el input
		this.props.nav.goBack();
	};


	render() {
		return (
			&lt;>
				&lt;QRCodeScanner
					onRead={this.onScanSuccess}
					reactivate={false}
					showMarker
					vibrate={true}
				/>

				{this._renderMessage()}

				&lt;CancelButton onPress={() => {
					this.props.nav.goBack();
				}} />
			&lt;/>
		)
	};


	_renderMessage() {
		return (
			&lt;View style={styles.card}>
				&lt;Text style={styles.message}>
					Encuentra un código para escanearlo
          		&lt;/Text>
			&lt;/View>
		);
	}

}


const styles = StyleSheet.create({
	card: {
		position: 'absolute',
		top: 120,
		alignSelf: 'center',
		backgroundColor: COLORS.dark_grey,
		height: 40,
		alignItems: "center",
		justifyContent: "center",
		borderRadius: 12
	},
	message: {
		textAlign: 'center',
		color: 'white',
		fontSize: 14,
		marginLeft: 20,
		marginRight: 20
	}
});

export default Scanner;
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
